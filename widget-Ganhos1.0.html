<!DOCTYPE html>
<html>
<head>
    <title>Negócios Ganhos - Dashboard Widget</title>
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Open+Sans:400,300&subset=latin,cyrillic-ext">
    <link rel="stylesheet" type="text/css" href='//fonts.googleapis.com/css?family=PT+Sans:400,700&subset=latin,cyrillic-ext'>

    <style type="text/css">
    * {
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
        text-rendering: geometricPrecision;
        -webkit-font-smoothing: antialiased;
    }
    html, body {
        padding: 0;
        margin: 0;
        font-family: 'PT Sans', sans-serif;
        background-color: #1a3a52;
        color: #ffffff;
        height: 100%;
    }
    
    .widget-container {
        background-color: #1a3a52;
        height: 100%;
        padding: 15px;
        display: flex;
        flex-direction: column;
        overflow: hidden;
    }
    
    .widget-header {
        font-size: 11px;
        font-weight: bold;
        text-transform: uppercase;
        color: #ffffff;
        margin-bottom: 8px;
        letter-spacing: 0.5px;
    }
    
    .widget-content {
        flex: 1;
        display: flex;
        flex-direction: column;
    }
    
    .main-number {
        font-size: 52px;
        font-weight: 300;
        line-height: 1;
        color: #4db8ff;
        font-family: 'Open Sans', sans-serif;
        margin-bottom: 5px;
    }
    
    .main-value {
        font-size: 13px;
        color: #ffffff;
        font-weight: bold;
        margin-bottom: 15px;
    }
    
    .divider {
        width: 60px;
        height: 1px;
        background-color: rgba(255, 255, 255, 0.3);
        margin: 10px 0;
    }
    
    .comparison {
        margin-top: auto;
        font-size: 13px;
        line-height: 1.4;
    }
    
    .comparison-item {
        color: #7a8a9a;
    }
    
    .comparison-item.negative {
        color: #ff5555;
    }
    
    .comparison-item.positive {
        color: #4ecdc4;
    }
    </style>
    
    <script>
    // Dados simulados - posteriormente serão substituídos por dados reais da API
    const dados = {
        negociosGanhos: 23,
        valorTotal: 45750.00,
        diferencaNegocios: -8,
        diferencaValor: 15
    };
    
    // Função para obter o período do parâmetro GET
    function getPeriodo() {
        const urlParams = new URLSearchParams(window.location.search);
        const periodo = urlParams.get('kommo_period');
        
        // Traduz o período para português
        const periodos = {
            'day': 'hoje',
            'week': 'esta semana',
            'month': 'este mês',
            'quarter': 'este trimestre',
            'year': 'este ano'
        };
        
        return periodos[periodo] || 'este período';
    }
    
    window.onload = function() {
        // Obtém o período selecionado
        const periodoTexto = getPeriodo();
        
        // Atualiza número de negócios
        document.getElementById('negocios-ganhos').textContent = dados.negociosGanhos;
        
        // Atualiza valor total
        document.getElementById('valor-total').textContent = 'R
</head>
<body>
    <div class="widget-container">
        <div class="widget-header">NEGÓCIOS GANHOS</div>
        
        <div class="widget-content">
            <div class="main-number" id="negocios-ganhos">23</div>
            <div class="main-value" id="valor-total">R$45.750</div>
            
            <div class="divider"></div>
            
            <div class="comparison">
                <div class="comparison-item negative" id="comp-negocios">-8</div>
                <div class="comparison-item" id="comp-valor">esta semana</div>
            </div>
        </div>
    </div>
</body>
</html> + dados.valorTotal.toLocaleString('pt-BR', { minimumFractionDigits: 0 });
        
        // Atualiza comparação - apenas mostra o número de diferença
        const compNegocios = document.getElementById('comp-negocios');
        if (dados.diferencaNegocios < 0) {
            compNegocios.className = 'comparison-item negative';
            compNegocios.textContent = dados.diferencaNegocios;
        } else if (dados.diferencaNegocios > 0) {
            compNegocios.className = 'comparison-item positive';
            compNegocios.textContent = '+' + dados.diferencaNegocios;
        } else {
            compNegocios.className = 'comparison-item';
            compNegocios.textContent = '0';
        }
        
        // Mostra o período como segunda linha
        document.getElementById('comp-valor').textContent = getPeriodo();
    };
    </script>
</head>
<body>
    <div class="widget-container">
        <div class="widget-header">NEGÓCIOS GANHOS</div>
        
        <div class="widget-content">
            <div class="main-number" id="negocios-ganhos">23</div>
            <div class="main-value" id="valor-total">R$45.750</div>
            
            <div class="divider"></div>
            
            <div class="comparison">
                <div class="comparison-item negative" id="comp-negocios">-8 esta semana</div>
                <div class="comparison-item positive" id="comp-valor">+15% esta semana</div>
            </div>
        </div>
    </div>
</body>
</html>
